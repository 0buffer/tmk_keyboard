<html>
<head>
    <title>TMK Keymap Editor</title>
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" />
    <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
    <script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
    <script src="codes.js"></script>
    <script src="firmware.js"></script>
    <link href='keyboard.css' rel='stylesheet' type='text/css'>
            
    <script>
        /* HHKB pro keymap editor
         *
         * Key matrix:
         *   COL 0     1       2       3       4       5       6       7
         * ROW,---------------------------------------------------------------
         *   0|  2     q       w       s       a       z       x       c
         *   1|  3     4       r       e       d       f       v       b
         *   2|  5     6       y       t       g       h       n       _NONE_
         *   3|  1     Esc     Tab     Control LShift  LAlt    LMeta   Space
         *   4|  7     8       u       i       k       j       m       _NONE_
         *   5|  \     `       Delete  Return  Fn      RShift  RAlt    RMeta
         *   6|  9     0       o       p       ;       l       ,       _NONE_
         *   7|  -     +       ]       [       '       /       .       _NONE_
         *
         * Default keymap
         * ,-----------------------------------------------------------.
         * |Esc|  1|  2|  3|  4|  5|  6|  7|  8|  9|  0|  -|  =|  \|  `|
         * |-----------------------------------------------------------|
         * |Tab  |  Q|  W|  E|  R|  T|  Y|  U|  I|  O|  P|  [|  ]|Backs|
         * |-----------------------------------------------------------|
         * |Contro|  A|  S|  D|  F|  G|  H|  J|  K|  L|  ;|  '|Enter   |
         * |-----------------------------------------------------------|
         * |Shift   |  Z|  X|  C|  V|  B|  N|  M|  ,|  .|  /|Shift |Fn |
         * `-----------------------------------------------------------'
         *       |Gui|Alt  |         Space         |Alt  |Gui|
         *       `-------------------------------------------'
         * ,-----------------------------------------------------------.
         * |Esc| F1| F2| F3| F4| F5| F6| F7| F8| F9|F10|F11|F12|Ins|Del|
         * |-----------------------------------------------------------|
         * |Caps |   |   |   |   |   |   |   |Psc|Slk|Pus|Up |   |Backs|
         * |-----------------------------------------------------------|
         * |Contro|VoD|VoU|Mut|   |   |  *|  /|Hom|PgU|Lef|Rig|Enter   |
         * |-----------------------------------------------------------|
         * |Shift   |   |   |   |   |   |  +|  -|End|PgD|Dow|Shift |Fn |
         * `-----------------------------------------------------------'
         *       |Gui|Alt  |         Space         |Alt  |Gui|
         *       `-------------------------------------------'
         */
        var no_map = function() { return [
            [0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0],
        ]; };
        var transparent_map = function() { return [
            [1,1,1,1,1,1,1,1],
            [1,1,1,1,1,1,1,1],
            [1,1,1,1,1,1,1,1],
            [1,1,1,1,1,1,1,1],
            [1,1,1,1,1,1,1,1],
            [1,1,1,1,1,1,1,1],
            [1,1,1,1,1,1,1,1],
            [1,1,1,1,1,1,1,1],
        ]; };

        // default keymap
        var keymaps = [
            [
                [ 0x1f,0x14,0x1a,0x16,0x04,0x1d,0x1b,0x06, ],
                [ 0x20,0x21,0x15,0x08,0x07,0x09,0x19,0x05, ],
                [ 0x22,0x23,0x1c,0x17,0x0a,0x0b,0x11,0x00, ],
                [ 0x1e,0x29,0x2b,0xe0,0xe1,0xe3,0xe2,0x2c, ],
                [ 0x24,0x25,0x18,0x0c,0x0e,0x0d,0x10,0x00, ],
                [ 0x31,0x35,0x2a,0x28,0xc1,0xe5,0xe7,0xe6, ],
                [ 0x26,0x27,0x12,0x13,0x33,0x0f,0x36,0x00, ],
                [ 0x2d,0x2e,0x30,0x2f,0x34,0x38,0x37,0x00, ],
            ],
            [
                [ 0x3b,0x00,0x00,0xa9,0xaa,0x00,0x00,0x00, ],
                [ 0x3c,0x3d,0x00,0x00,0xa8,0x00,0x00,0x00, ],
                [ 0x3e,0x3f,0x00,0x00,0x00,0x55,0x57,0x00, ],
                [ 0x3a,0x01,0x39,0x01,0x01,0x01,0x01,0x01, ],
                [ 0x40,0x41,0x00,0x46,0x4a,0x54,0x56,0x00, ],
                [ 0x49,0x4c,0x01,0x58,0x01,0x01,0x01,0x01, ],
                [ 0x42,0x43,0x47,0x48,0x50,0x4b,0x4d,0x00, ],
                [ 0x44,0x45,0x00,0x52,0x4f,0x51,0x4e,0x00, ]
            ],
            no_map(),
            no_map(),
        ];

        // TODO: define proper Fn actions: 32actions*2bytes
        var fn_actions = [
            0xF1,0xA0,0xF1,0xA1,0xF1,0xA2,0xF1,0xA3,0x01,0x8A,0x02,0x8A,0x04,0x8A,0x08,0x8A,
            0xF0,0xA0,0xF0,0xA1,0xF0,0xA2,0xF0,0xA3,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
            0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
            0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
        ];

        // key id under editing
        var editing_key;
        // layer under editing
        var editing_layer = 0;

        $(function() {
            // Title
            document.title = "TMK Keymap Editor for " + KEYBOARD_ID;
            $("#page-title").text("TMK Keymap Editor for " + KEYBOARD_ID);

            // lost keymap under edting when leave the page
            /* TODO: Needed when released
            $(window).bind('beforeunload', function(){
                  return 'CAUTION: You will lost your change.';
            });
            */

            // load keymap on keyboard key buttons
            var load_keymap = function(layer, keymap) {
                for (var row in keymap) {
                    for (var col in keymap[row]) {
                        var code = keymap[row][col];
                        var key = code_display[code];
                        $("#key-0" + row + "0" + col).text(key.name);
                        $("#key-0" + row + "0" + col).attr({ title: key.desc });
                    }
                }
            };

            // load default keymap on startup
            load_keymap(0, keymaps[0]);

            /*
             * Layer selector
             */
            $("#layer_radio").buttonset();

            // layer change
            $(".layer").click(function(ev, ui) {
                var layer = parseInt($(this).attr('id').match(/layer-(\d+)/)[1]);
                editing_layer = layer;
                load_keymap(layer, keymaps[layer]);
            });

            /*
             * Keyboard display(key buttons)
             */
            // Select key button to edit
            $(".key").click(function(ev, ui) {
                editing_key = $(this).attr('id');

                // grey-out key to indicate being under editing
                $(".key").removeClass("key-editing");
                $(this).addClass("key-editing");
            });

            /*
             * Keycodes button tab
             */
            $("#keycode_tabs").tabs({
                heightStyle: "auto",
            });

            // Keycodes: read name and description from code table
            $(".action").each(function(index) {
                // get code from code button id: code-[0x]CCCC where CCCC is dec or hex number
                var code = parseInt($(this).attr('id').match(/code-((0x){0,1}[0-9a-fA-F]+)/)[1]);
                $(this).text(code_display[code].name);
                $(this).attr({ title: code_display[code].desc });
                //console.log(index + ": " + code + " " + code_display[code].desc);
            });

            $(".action").click(function(ev,ui) {
                if (!editing_key) return;

                // get matrix position from key id: key-RRCC where RR is row and CC is column in dec
                var pos = editing_key.match(/key-(\d\d)(\d\d)/i);
                if (!pos) return;
                var row = parseInt(pos[1]), col = parseInt(pos[2]);

                // set text and tooltip to key button under editing
                $("#" + editing_key).text($(this).text());
                $("#" + editing_key).attr({ title: $(this).attr('title'), });

                // change keymap array
                // get code from keycode button id: code-[0x]CC where CC is dec or hex number
                var code = $(this).attr('id').match(/code-((0x){0,1}[0-9a-fA-F]+)/)[1];
                keymaps[editing_layer][row][col] = parseInt(code);
            });

            /*
             * Output options
             */
            //$("#keymap-output").resizable();  // resizable textarea

            // Hex Save
            $("#keymap-download").click(function(ev, ui) {
                var keymap_data = fn_actions.concat(keymaps);
                var content = firmware_hex() +
                              hex_output(KEYMAP_START_ADDRESS, keymap_data) +
                              hex_eof();

                // download hex file
                var blob = new Blob([content], {type: "application/octet-stream"});
                var hex_link = $("<a/>");
                hex_link.attr('href', window.URL.createObjectURL(blob));
                hex_link.attr('download', KEYBOARD_ID + "_firmware.hex");
                // jQuery click() doesn't work straight for 'a' element
                // http://stackoverflow.com/questions/1694595/
                hex_link[0].click();
            });

            // Hex output
            $("#keymap-hex-generate").click(function(ev, ui) {
                // TODO: flattened array
                var keymap_data = fn_actions.concat(keymaps);
                var content = firmware_hex() +
                              hex_output(KEYMAP_START_ADDRESS, keymap_data) +
                              hex_eof();
                $("#keymap-output").text(content); 
            });

            // C source output
            $("#keymap-source-generate").click(function(ev, ui) {
                $("#keymap-output").text(source_output(keymaps));
            });

            // JSON output
            //$("#keymap-json-generate").css('display', 'none');  // hide
            $("#keymap-json-generate").click(function(ev, ui) {
                var keymap_output;
                //keymap_output = JSON.stringify(keymaps, null, 4);
                keymap_output = JSON.stringify({ keymaps: keymaps });
                $("#keymap-output").text(keymap_output);
            });

        });
    </script>
</head>

<body>
<h1 id="page-title">TMK Keymap Editor</h1>

<h3>Instruction</h3>
How to edit keymap
<ul>
<li>Select layer
<li>Select key to edit
<li>Select keycode to assign to the key
<li>Download firmware
</ul>
See <a href="https://github.com/tmk/tmk_keyboard/blob/master/doc/keymap.md" target="_blank">this</a> for detailed description of keymap.

<h2>Keyboard</h2>
<!-- 
Layer selector
-->
<form>
  <div id="layer_radio">
    <input type="radio" name="radio" class="layer" id="layer-0"checked="checked" /><label for="layer-0">Layer 0</label>
    <input type="radio" name="radio" class="layer" id="layer-1"/><label for="layer-1">Layer 1</label>
    <input type="radio" name="radio" class="layer" id="layer-2"/><label for="layer-2">Layer 2</label>
    <input type="radio" name="radio" class="layer" id="layer-3"/><label for="layer-3">Layer 3</label>
  </div>
</form> 

<!-- TODO: set all key to NO or TRANS -->
<!-- TODO: copy layer -->

<!-- 
Keyboard keys
-->
<div class="keyboard">
    <div id="key-0301" class="key">Esc</div>
    <div id="key-0300" class="key">1</div>
    <div id="key-0000" class="key">2</div>
    <div id="key-0100" class="key">3</div>
    <div id="key-0101" class="key">4</div>
    <div id="key-0200" class="key">5</div>
    <div id="key-0201" class="key">6</div>
    <div id="key-0400" class="key">7</div>
    <div id="key-0401" class="key">8</div>
    <div id="key-0600" class="key">9</div>
    <div id="key-0601" class="key">0</div>
    <div id="key-0700" class="key">-</div>
    <div id="key-0701" class="key">=</div>
    <div id="key-0500" class="key">\</div>
    <div id="key-0501" class="key">`</div>
    <br class="clear" />

    <div id="key-0302" class="key btn150">Tab</div>
    <div id="key-0001" class="key">Q</div>
    <div id="key-0002" class="key">W</div>
    <div id="key-0103" class="key">E</div>
    <div id="key-0102" class="key">R</div>
    <div id="key-0203" class="key">T</div>
    <div id="key-0202" class="key">Y</div>
    <div id="key-0402" class="key">U</div>
    <div id="key-0403" class="key">I</div>
    <div id="key-0602" class="key">O</div>
    <div id="key-0603" class="key">P</div>
    <div id="key-0703" class="key">[</div>
    <div id="key-0702" class="key">]</div>
    <div id="key-0502" class="key btn150">BSpc</div>
    <br class="clear" />

    <div id="key-0303" class="key btn175">Ctrl</div>
    <div id="key-0004" class="key">A</div>
    <div id="key-0003" class="key">S</div>
    <div id="key-0104" class="key">D</div>
    <div id="key-0105" class="key">F</div>
    <div id="key-0204" class="key">G</div>
    <div id="key-0205" class="key">H</div>
    <div id="key-0405" class="key">J</div>
    <div id="key-0404" class="key">K</div>
    <div id="key-0605" class="key">L</div>
    <div id="key-0604" class="key">;</div>
    <div id="key-0704" class="key">'</div>
    <div id="key-0503" class="key btn225">Enter</div>
    <br class="clear" />

    <div id="key-0304" class="key btn225">Shift</div>
    <div id="key-0005" class="key">Z</div>
    <div id="key-0006" class="key">X</div>
    <div id="key-0007" class="key">C</div>
    <div id="key-0106" class="key">V</div>
    <div id="key-0107" class="key">B</div>
    <div id="key-0206" class="key">N</div>
    <div id="key-0406" class="key">M</div>
    <div id="key-0606" class="key">,</div>
    <div id="key-0706" class="key">.</div>
    <div id="key-0705" class="key">/</div>
    <div id="key-0505" class="key btn175">Shift</div>
    <div id="key-0504" class="key">Fn</div>
    <br class="clear" />

    <div class="key spc150"></div>
    <div id="key-0305" class="key">Sup</div>
    <div id="key-0306" class="key btn150">Alt</div>
    <div id="key-0307" class="key btn600"></div>
    <div id="key-0507" class="key btn150">Alt</div>
    <div id="key-0506" class="key">Sup</div>
    <div class="key spc150"></div>
    <div class="key spc100"></div>
    <br class="clear" />
</div>


<!-- 
Keycodes
TODO: better align of buttons
-->
<h2>Keycodes</h2>
<div id="keycode_tabs">
    <ul>
    <li><a href="#tabs-1">Main</a></li>
    <li><a href="#tabs-2">Function and Navigation</a></li>
    <li><a href="#tabs-3">Keypad</a></li>
    <li><a href="#tabs-4">Media and System</a></li>
    <li><a href="#tabs-5">Layer</a></li>
    </ul>

    <!-- Main -->
    <div id="tabs-1">
        <button class="action" id="code-0">NO</button>
        <button class="action" id="code-1">TRNS</button>
        <br/>
        <button class="action" id="code-4" title="A">A</button>
        <button class="action" id="code-5" title="B">B</button>
        <button class="action" id="code-6" title="C">C</button>
        <button class="action" id="code-7" title="D">D</button>
        <button class="action" id="code-8" title="E">E</button>
        <button class="action" id="code-9" title="F">F</button>
        <button class="action" id="code-10" title="G">G</button>
        <button class="action" id="code-11" title="H">H</button>
        <button class="action" id="code-12" title="I">I</button>
        <button class="action" id="code-13" title="J">J</button>
        <button class="action" id="code-14" title="K">K</button>
        <button class="action" id="code-15" title="L">L</button>
        <button class="action" id="code-16" title="M">M</button>
        <button class="action" id="code-17" title="N">N</button>
        <button class="action" id="code-18" title="O">O</button>
        <button class="action" id="code-19" title="P">P</button>
        <button class="action" id="code-20" title="Q">Q</button>
        <button class="action" id="code-21" title="R">R</button>
        <button class="action" id="code-22" title="S">S</button>
        <button class="action" id="code-23" title="T">T</button>
        <button class="action" id="code-24" title="U">U</button>
        <button class="action" id="code-25" title="V">V</button>
        <button class="action" id="code-26" title="W">W</button>
        <button class="action" id="code-27" title="X">X</button>
        <button class="action" id="code-28" title="Y">Y</button>
        <button class="action" id="code-29" title="Z">Z</button>
        <br/>
        <button class="action" id="code-30" title="1">1</button>
        <button class="action" id="code-31" title="2">2</button>
        <button class="action" id="code-32" title="3">3</button>
        <button class="action" id="code-33" title="4">4</button>
        <button class="action" id="code-34" title="5">5</button>
        <button class="action" id="code-35" title="6">6</button>
        <button class="action" id="code-36" title="7">7</button>
        <button class="action" id="code-37" title="8">8</button>
        <button class="action" id="code-38" title="9">9</button>
        <button class="action" id="code-39" title="0">0</button>
        <br/>
        <button class="action" id="code-45" title="MINUS">MINUS</button>
        <button class="action" id="code-46" title="EQUAL">EQUAL</button>
        <button class="action" id="code-47" title="LBRACKET">LBRACKET</button>
        <button class="action" id="code-48" title="RBRACKET">RBRACKET</button>
        <button class="action" id="code-49" title="BSLASH">BSLASH</button>
        <button class="action" id="code-51" title="SCOLON">SCOLON</button>
        <button class="action" id="code-52" title="QUOTE">QUOTE</button>
        <button class="action" id="code-53" title="GRAVE">GRAVE</button>
        <button class="action" id="code-54" title="COMMA">COMMA</button>
        <button class="action" id="code-55" title="DOT">DOT</button>
        <button class="action" id="code-56" title="SLASH">SLASH</button>
        <br/>
        <button class="action" id="code-40" title="ENTER">ENTER</button>
        <button class="action" id="code-41" title="ESCAPE">ESCAPE</button>
        <button class="action" id="code-42" title="BackSpace">BSPACE</button>
        <button class="action" id="code-43" title="TAB">TAB</button>
        <button class="action" id="code-44" title="SPACE">SPACE</button>
        <button class="action" id="code-57" title="CAPSLOCK">CAPSLOCK</button>
        <button class="action" id="code-101" title="APPLICATION">APPLICATION</button>
        <br/>
        <button class="action" id="code-50" title="NONUS_HASH">NONUS_HASH</button>
        <button class="action" id="code-100" title="NONUS_BSLASH">NONUS_BSLASH</button>
        <br/>
        Modifier:
        <button class="action" id="code-224" title="LCTRL">LCTRL</button>
        <button class="action" id="code-225" title="LSHIFT">LSHIFT</button>
        <button class="action" id="code-226" title="LALT">LALT</button>
        <button class="action" id="code-227" title="LGUI">LGUI</button>
        <button class="action" id="code-228" title="RCTRL">RCTRL</button>
        <button class="action" id="code-229" title="RSHIFT">RSHIFT</button>
        <button class="action" id="code-230" title="RALT">RALT</button>
        <button class="action" id="code-231" title="RGUI">RGUI</button>
        <br/>
    </div>

    <!-- Function and Navigation -->
    <div id="tabs-2">
        <button class="action" id="code-58" title="F1">F1</button>
        <button class="action" id="code-59" title="F2">F2</button>
        <button class="action" id="code-60" title="F3">F3</button>
        <button class="action" id="code-61" title="F4">F4</button>
        <button class="action" id="code-62" title="F5">F5</button>
        <button class="action" id="code-63" title="F6">F6</button>
        <button class="action" id="code-64" title="F7">F7</button>
        <button class="action" id="code-65" title="F8">F8</button>
        <button class="action" id="code-66" title="F9">F9</button>
        <button class="action" id="code-67" title="F10">F10</button>
        <button class="action" id="code-68" title="F11">F11</button>
        <button class="action" id="code-69" title="F12">F12</button>
        <br/>
        <button class="action" id="code-104" title="F13">F13</button>
        <button class="action" id="code-105" title="F14">F14</button>
        <button class="action" id="code-106" title="F15">F15</button>
        <button class="action" id="code-107" title="F16">F16</button>
        <button class="action" id="code-108" title="F17">F17</button>
        <button class="action" id="code-109" title="F18">F18</button>
        <button class="action" id="code-110" title="F19">F19</button>
        <button class="action" id="code-111" title="F20">F20</button>
        <button class="action" id="code-112" title="F21">F21</button>
        <button class="action" id="code-113" title="F22">F22</button>
        <button class="action" id="code-114" title="F23">F23</button>
        <button class="action" id="code-115" title="F24">F24</button>
        <br/>
        <br/>
        <button class="action" id="code-70" title="PSCREEN">PSCREEN</button>
        <button class="action" id="code-71" title="SCROLLLOCK">SCROLLLOCK</button>
        <button class="action" id="code-72" title="PAUSE">PAUSE</button>
        <br/>
        <button class="action" id="code-73" title="INSERT">INSERT</button>
        <button class="action" id="code-74" title="HOME">HOME</button>
        <button class="action" id="code-75" title="PGUP">PGUP</button>
        <br/>
        <button class="action" id="code-76" title="DELETE">DELETE</button>
        <button class="action" id="code-77" title="END">END</button>
        <button class="action" id="code-78" title="PGDOWN">PGDOWN</button>
        <br/>
        <button class="action" id="code-80" title="LEFT">LEFT</button>
        <button class="action" id="code-81" title="DOWN">DOWN</button>
        <button class="action" id="code-82" title="UP">UP</button>
        <button class="action" id="code-79" title="RIGHT">RIGHT</button>
    </div>

    <!-- Keypad -->
    <div id="tabs-3">
        <button class="action" id="code-83" title="NUMLOCK">NUMLOCK</button>
        <button class="action" id="code-84" title="KP_SLASH">KP_SLASH</button>
        <button class="action" id="code-85" title="KP_ASTERISK">KP_ASTERISK</button>
        <button class="action" id="code-86" title="KP_MINUS">KP_MINUS</button>
        <button class="action" id="code-87" title="KP_PLUS">KP_PLUS</button>
        <button class="action" id="code-88" title="KP_ENTER">KP_ENTER</button>
        <button class="action" id="code-99" title="KP_DOT">KP_DOT</button>
        <button class="action" id="code-103" title="KP_EQUAL">KP_EQUAL</button>
        <button class="action" id="code-133" title="KP_COMMA">KP_COMMA</button>
        <button class="action" id="code-134" title="KP_EQUAL_AS400">KP_EQUAL_AS400</button>
        <br/>
        <button class="action" id="code-89" title="KP_1">KP_1</button>
        <button class="action" id="code-90" title="KP_2">KP_2</button>
        <button class="action" id="code-91" title="KP_3">KP_3</button>
        <button class="action" id="code-92" title="KP_4">KP_4</button>
        <button class="action" id="code-93" title="KP_5">KP_5</button>
        <button class="action" id="code-94" title="KP_6">KP_6</button>
        <button class="action" id="code-95" title="KP_7">KP_7</button>
        <button class="action" id="code-96" title="KP_8">KP_8</button>
        <button class="action" id="code-97" title="KP_9">KP_9</button>
        <button class="action" id="code-98" title="KP_0">KP_0</button>
        <br/>
        <br/>
        Japanese:
        <button class="action" id="code-135" title="INT1">INT1</button>
        <button class="action" id="code-136" title="INT2">INT2</button>
        <button class="action" id="code-137" title="INT3">INT3</button>
        <button class="action" id="code-138" title="INT4">INT4</button>
        <button class="action" id="code-139" title="INT5">INT5</button>
        <!--
        <br/>
        <button class="action" id="code-140" title="INT6">INT6</button>
        <button class="action" id="code-141" title="INT7">INT7</button>
        <button class="action" id="code-142" title="INT8">INT8</button>
        <button class="action" id="code-143" title="INT9">INT9</button>
        -->
        <!--
        <br/>
        <button class="action" id="code-144" title="LANG1">LANG1</button>
        <button class="action" id="code-145" title="LANG2">LANG2</button>
        <button class="action" id="code-146" title="LANG3">LANG3</button>
        <button class="action" id="code-147" title="LANG4">LANG4</button>
        <button class="action" id="code-148" title="LANG5">LANG5</button>
        <button class="action" id="code-149" title="LANG6">LANG6</button>
        <button class="action" id="code-150" title="LANG7">LANG7</button>
        <button class="action" id="code-151" title="LANG8">LANG8</button>
        <button class="action" id="code-152" title="LANG9">LANG9</button>
        -->

        <!--
        <br/>
        <br/>
        <button class="action" id="code-116" title="EXECUTE">EXECUTE</button>
        <button class="action" id="code-117" title="HELP">HELP</button>
        <button class="action" id="code-118" title="MENU">MENU</button>
        <button class="action" id="code-119" title="SELECT">SELECT</button>
        <button class="action" id="code-120" title="STOP">STOP</button>
        <button class="action" id="code-121" title="AGAIN">AGAIN</button>
        <button class="action" id="code-122" title="UNDO">UNDO</button>
        <button class="action" id="code-123" title="CUT">CUT</button>
        <button class="action" id="code-124" title="COPY">COPY</button>
        <button class="action" id="code-125" title="PASTE">PASTE</button>
        <button class="action" id="code-126" title="FIND">FIND</button>
        <button class="action" id="code-127" title="_MUTE">_MUTE</button>
        <button class="action" id="code-128" title="_VOLUP">_VOLUP</button>
        <button class="action" id="code-129" title="_VOLDOWN">_VOLDOWN</button>
        -->

        <!--
        <br/>
        <button class="action" id="code-102" title="POWER">POWER</button>
        <button class="action" id="code-153" title="ALT_ERASE">ALT_ERASE</button>
        <button class="action" id="code-154" title="SYSREQ">SYSREQ</button>
        <button class="action" id="code-155" title="CANCEL">CANCEL</button>
        <button class="action" id="code-156" title="CLEAR">CLEAR</button>
        <button class="action" id="code-157" title="PRIOR">PRIOR</button>
        <button class="action" id="code-158" title="RETURN">RETURN</button>
        <button class="action" id="code-159" title="SEPARATOR">SEPARATOR</button>
        <button class="action" id="code-160" title="OUT">OUT</button>
        <button class="action" id="code-161" title="OPER">OPER</button>
        <button class="action" id="code-162" title="CLEAR_AGAIN">CLEAR_AGAIN</button>
        <button class="action" id="code-163" title="CRSEL">CRSEL</button>
        <button class="action" id="code-164" title="EXSEL">EXSEL</button>
        -->
    </div>

    <!-- Media and System -->
    <div id="tabs-4">
        <button class="action" id="code-165"></button>
        <button class="action" id="code-166"></button>
        <button class="action" id="code-167"></button>

        <br/>
        <br/>
        <button class="action" id="code-168"></button>
        <button class="action" id="code-169"></button>
        <button class="action" id="code-170"></button>
        <button class="action" id="code-171"></button>
        <button class="action" id="code-172"></button>
        <button class="action" id="code-173"></button>
        <button class="action" id="code-174"></button>
        <button class="action" id="code-175"></button>
        <button class="action" id="code-176"></button>
        <button class="action" id="code-177"></button>
        <button class="action" id="code-178"></button>
        <button class="action" id="code-179"></button>

        <br/>
        <br/>
        <button class="action" id="code-180"></button>
        <button class="action" id="code-181"></button>
        <button class="action" id="code-182"></button>
        <button class="action" id="code-183"></button>
        <button class="action" id="code-184"></button>
        <button class="action" id="code-185"></button>
        <button class="action" id="code-186"></button>

        <!--
        <button class="action" id="code-187"></button>
        <button class="action" id="code-188"></button>
        <button class="action" id="code-189"></button>
        <button class="action" id="code-190"></button>
        <button class="action" id="code-191"></button>
        -->

        <br/>
        <br/>
        <button class="action" id="code-130" title="LOCKING_CAPS">LOCKING_CAPS</button>
        <button class="action" id="code-131" title="LOCKING_NUM">LOCKING_NUM</button>
        <button class="action" id="code-132" title="LOCKING_SCROLL">LOCKING_SCROLL</button>
    </div>

    <!-- Layer -->
    <div id="tabs-5">
        <!-- TODO: layer actions -->
        <!-- FN0-31 -->
        <h3>Layer Switch</h3>
        Momentary:
        <button class="action" id="code-192"></button>
        <button class="action" id="code-193"></button>
        <button class="action" id="code-194"></button>
        <button class="action" id="code-195"></button>
        <br/>
        Toggle:
        <button class="action" id="code-196"></button>
        <button class="action" id="code-197"></button>
        <button class="action" id="code-198"></button>
        <button class="action" id="code-199"></button>
        <br/>
        Momentary with Tap Toggle:
        <button class="action" id="code-200"></button>
        <button class="action" id="code-201"></button>
        <button class="action" id="code-202"></button>
        <button class="action" id="code-203"></button>
        <br/>
        <p>See <a href="https://github.com/tmk/tmk_keyboard/blob/master/doc/keymap.md#3-layer-switching-example" target="_blank">this</a> for detail of layer switching.</p>

        <!--
        <button class="action" id="code-204"></button>
        <button class="action" id="code-205"></button>
        <button class="action" id="code-206"></button>
        <button class="action" id="code-207"></button>
        <br/>
        <button class="action" id="code-208"></button>
        <button class="action" id="code-209"></button>
        <button class="action" id="code-210"></button>
        <button class="action" id="code-211"></button>
        <button class="action" id="code-212"></button>
        <button class="action" id="code-213"></button>
        <button class="action" id="code-214"></button>
        <button class="action" id="code-215"></button>
        <br/>
        <button class="action" id="code-216"></button>
        <button class="action" id="code-217"></button>
        <button class="action" id="code-218"></button>
        <button class="action" id="code-219"></button>
        <button class="action" id="code-220"></button>
        <button class="action" id="code-221"></button>
        <button class="action" id="code-222"></button>
        <button class="action" id="code-223"></button>
        -->
    </div>
</div>

<h3>Firmware Hex File Download:</h3>
<button id="keymap-download" title="save file">Download</button>

<h3>Keymap Output:</h3>
<textarea id="keymap-output" rows="20" cols="80"></textarea>
<br/>
<button id="keymap-json-generate" title="generate JSON">JSON</button>
<button id="keymap-source-generate" title="generate C source code">C source</button>
<button id="keymap-hex-generate" title="generate Hex">Hex</button>

</body>
</html>
